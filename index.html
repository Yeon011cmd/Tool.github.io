<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>예상 주가 계산기</title>
    <style>
        body {
            font-family: Arial;
            max-width: 700px;
            margin: 40px auto;
            padding: 20px;
        }
        h2 {
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
        }
        input {
            width: 100%;
            padding: 8px;
            margin: 5px 0 15px 0;
        }
        button {
            padding: 10px;
            width: 100%;
            cursor: pointer;
        }
        .result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<h1>주가 적정가 계산기</h1>

<h2>1. PER 기반 예상 주가</h2>
<label>EPS (주당순이익)</label>
<input type="number" id="eps">

<label>목표 PER</label>
<input type="number" id="per">

<button onclick="calculatePER()">계산하기</button>

<div class="result" id="perResult"></div>


<h2>2. PEG 기반 성장 반영 계산</h2>
<label>예상 성장률 (%)</label>
<input type="number" id="growth">

<button onclick="calculatePEG()">PEG 기준 계산</button>

<div class="result" id="pegResult"></div>


<h2>3. 안전마진 적용</h2>
<label>안전마진 (%)</label>
<input type="number" id="margin" placeholder="예: 20">

<button onclick="calculateMargin()">안전마진 적용</button>

<div class="result" id="marginResult"></div>


<script>
let fairPrice = 0;

function calculatePER() {
    const eps = parseFloat(document.getElementById("eps").value);
    const per = parseFloat(document.getElementById("per").value);

    if (!eps || !per) {
        alert("값을 모두 입력하세요");
        return;
    }

    fairPrice = eps * per;
    document.getElementById("perResult").innerHTML =
        "예상 적정 주가: " + fairPrice.toLocaleString() + " 원";
}

function calculatePEG() {
    const eps = parseFloat(document.getElementById("eps").value);
    const growth = parseFloat(document.getElementById("growth").value);

    if (!eps || !growth) {
        alert("값을 모두 입력하세요");
        return;
    }

    const pegPER = growth;
    fairPrice = eps * pegPER;

    document.getElementById("pegResult").innerHTML =
        "PEG 기준 적정 주가: " + fairPrice.toLocaleString() + " 원";
}

function calculateMargin() {
    const margin = parseFloat(document.getElementById("margin").value);

    if (!fairPrice || !margin) {
        alert("먼저 적정 주가를 계산하세요");
        return;
    }

    const buyPrice = fairPrice * (1 - margin / 100);

    document.getElementById("marginResult").innerHTML =
        "안전마진 적용 매수가: " + buyPrice.toLocaleString() + " 원";
}
</script>

</body>
</html>
